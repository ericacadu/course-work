<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>登入</title>
    <link rel="stylesheet" href="../assets/css/week3.css">
</head>
<body>
    <div class="container-fluid g-0" id="app">
        <div class="container" :data="check = false">
    <div class="form-content signin text-center w-75 mx-auto p-4 rounded-3" @keyup.enter="signin">
        <div class="form-floating">
            <input type="email" class="form-control m-0 mb-3" v-model="user.username">
            <label for="username">Username</label>
        </div>
        <div class="form-floating">
            <input type="password" class="form-control m-0" v-model="user.password">
            <label for="password">Password</label>
        </div>
        <button type="button" class="btn w-50 py-2 mt-3 mx-auto btn-primary rounded-3" id="signinBtn" @click.prevent="signin">
            登入
        </button>
    </div>
</div>        <div class="loading d-none" id="loading">
	<div class="spinner">
		<span></span>
		<p>loading</p>
	</div>
</div>        <div class="modal fade" id="productModal"
    data-bs-backdrop="static" 
    data-bs-keyboard="false">
	<div class="modal-dialog">
		<div class="modal-content border-0">
			<div class="modal-header">
				<div class="modal-title">{{ modalTitle }}</div>
				<span class="material-icons close"
				data-bs-dismiss="modal"
				role="button">clear</span>
			</div>
			<div class="modal-body">
				<ul class="nav nav-pills" role="tablist">
					<li class="nav-item">
						<button class="nav-link active" 
						data-bs-toggle="tab" 
						data-bs-target="#basic" 
						type="button" role="tab">商品資訊</button>
					</li>
					<li class="nav-item">
						<button class="nav-link" 
						data-bs-toggle="tab" 
						data-bs-target="#info" 
						type="button" role="tab">商品內容</button>
					</li>
					<li class="nav-item">
						<button class="nav-link" 
						data-bs-toggle="tab" 
						data-bs-target="#photo" 
						type="button" role="tab">商品圖片</button>
					</li>
				</ul>
				<div class="tab-content mt-2">
					<div class="tab-pane fade show active" id="basic" role="tabpanel">
						<div class="form-row d-flex">
                <div class="form-group w-100">
                  <label class="py-2" for="name">名稱</label>
                  <input
                    type="text"
                    class="form-control w-90"
                    placeholder="輸入商品名稱"
                    id="name"
                    v-model="modalData.title"
                  />
                </div>
                <div class="form-group w-100">
                  <label class="py-2" for="category">類別</label>
                  <select
                    id="category"
                    class="form-select text-secondary form-control w-90"
                    v-model="modalData.category"
                  >
                    <option value="選擇類別" selected disabled>選擇類別</option>
                    <option value="調酒">調酒</option>
                    <option value="果汁">果汁</option>
                    <option value="茶飲">茶飲</option>
                  </select>
                </div>
              </div>
              <div class="form-row d-flex">
                <div class="form-group w-100">
                  <label class="py-2" for="origin_price">原價</label>
                  <input
                    type="number"
                    min="0"
                    class="form-control w-90"
                    placeholder="輸入原價"
                    id="origin_price"
                    v-model.number="modalData.origin_price"
                  />
                </div>
                <div class="form-group w-100">
                  <label class="py-2" for="price">售價</label>
                  <input
                    type="number"
                    min="0"
                    class="form-control w-90"
                    placeholder="輸入售價"
                    id="price"
                    v-model.number="modalData.price"
                  />
                </div>
                <div class="form-group w-100">
                  <label class="py-2" for="unit">單位</label>
                  <select
                    id="unit"
                    class="form-select text-secondary form-control w-90"
                    v-model="modalData.unit"
                  >
                    <option value="選擇單位" selected disabled>選擇單位</option>
                    <option value="杯">杯</option>
                    <option value="壺">壺</option>
                    <option value="罐">罐</option>
                  </select>
                </div>
              </div>
              <hr />
              <div class="form-row d-flex">
								<label class="" for="switch">是否啟用</label>
								<div class="switch-group">
									<input type="checkbox" id="switch"
                  v-model="modalData.is_enable"
                  :checked="modalData.is_enable">
									<div class="ico_switch"></div>
								</div>
              </div>
					</div>
					<div class="tab-pane fade" id="info" role="tabpanel">
						<div class="form-group w-100">
              <label class="py-2" for="description">商品描述</label>
              <textarea
                row="3"
                class="form-control"
                placeholder="輸入商品描述"
                id="description"
                v-model="modalData.description"
              ></textarea>
            </div>
            <div class="form-group w-100">
              <label class="py-2" for="productInfo">說明內容</label>
              <textarea
                row="3"
                id="productInfo"
                class="form-control"
                placeholder="輸入商品內容"
                v-model="modalData.content"
                ></textarea>
            </div>
					</div>
					<div class="tab-pane fade" id="photo" role="tabpanel">
						<div class="form-group d-flex justify-content-start">
              <div class="imgs-empty"
              v-if="!modalData.imagesUrl.length"
              v-for="(img, i) in 3" :key="i">
              <span class="material-icons">photo</span>
            </div>

              <div class="imgs-fill"
              v-else 
              v-for="(img, key) in modalData.imagesUrl"
              :key="key"> 
                <span class="material-icons" role="button"
                @click="removeImage(img, key)">
                  remove
                </span>
                <img class="img-thumbnail" :src="img" alt="">
              </div> 
            </div>
            <div class="form-group">
              <label class="py-2" for="imagesUrl">圖片連結</label>
              <div class="input-group">
                <input type="text" class="form-control"
                id="imagesUrl"
                placeholder="輸入圖片連結"
                v-model="tempUrl"
                :disabled="modalData.imagesUrl.length >= 3">
                <button class="btn btn-outline-secondary"
                type="button"
                :disabled="modalData.imagesUrl.length >= 3"
                @click.prevent="uploadImage">
                  上傳連結
                </button>
              </div>
              
            </div>
					</div>
				</div>
			</div>
			<div class="modal-footer">
        <button type="button" class="btn btn-secondary"
        data-bs-dismiss="modal">取消</button>
				<button type="button" class="btn btn-primary"
        @click="updateProduct">儲存</button>
			</div>
		</div>
	</div>
</div>

        <div class="modal fade" id="deleteModal">
	<div class="modal-dialog">
		<div class="modal-content border-0">
			<div class="modal-header">
				<div class="modal-title">{{ modalTitle }}</div>
				<span class="material-icons close"
				data-bs-dismiss="modal"
				role="button">clear</span>
			</div>
			<div class="modal-body">
                <p>
                    是否刪除
                    <span class="text-danger font-weight-bold">
                      {{ deleteData.title }}
                    </span>
                    {{ modalText }}？
                    <span class="text-secondary">(刪除後將無法恢復)</span>
                  </p>
			</div>
			<div class="modal-footer">
        <button type="button" class="btn btn-secondary"
        data-bs-dismiss="modal">取消</button>
				<button type="button" class="btn btn-danger"
        @click="deleteProduct(deleteData.id)">確定刪除</button>
			</div>
		</div>
	</div>
</div>

    </div>
    <script src="https://unpkg.com/vue@next"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js"></script>
    <script src="../assets/js/vendors.js"></script>
    <script src="../assets/js/week3.js" type="module"></script>
</body>
</html>